<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Zcash is ZECtastic</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: 'Inter', sans-serif; background: #0b0b10; color: #e6eef8; line-height: 1.6; }

  /* --- Hero Section --- */
  header { 
    background: linear-gradient(135deg, #7b61ff, #2dd4bf); 
    text-align: center; 
    padding: 80px 20px 60px; 
  }
  .logo-title { display: flex; align-items: center; justify-content: center; gap: 10px; }
  header img { max-width: 220px; height: auto; }
  header h1 { font-size: 40px; font-weight: 700; }
  header p { font-size: 20px; opacity: 0.9; margin: 16px 0 24px; }
  header button { padding: 14px 28px; font-size: 16px; border: none; border-radius: 8px; background: #0b0b10; color: #fff; cursor: pointer; transition: 0.3s; }
  header button:hover { background: #1a1c26; }

  /* --- Fun Fact Section --- */
  .fun-fact { 
    max-width: 700px; margin: -40px auto 60px; padding: 40px 20px; 
    text-align: center; background: linear-gradient(145deg, #2e1a4f, #7b61ff); 
    border-radius: 20px; box-shadow: 0 8px 24px rgba(0,0,0,0.4); 
    transition: transform 0.2s; 
  }
  .fun-fact:hover { transform: translateY(-4px); }
  .fun-fact p { font-size: 24px; font-weight: 500; transition: opacity 0.3s; }

  /* --- Live Data Section --- */
  .stats { 
    display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); 
    gap: 24px; max-width: 1000px; margin: 40px auto; padding: 0 20px; 
  }
  .stat-card { 
    background: #0f1116; border-radius: 16px; padding: 24px; text-align: center; 
    box-shadow: 0 6px 18px rgba(0,0,0,0.35); transition: 0.3s; 
  }
  .stat-card:hover { transform: translateY(-4px); }
  .stat-card strong { display: block; font-size: 14px; color: #9aa0b4; margin-bottom: 8px; }
  .stat-card p { font-size: 20px; margin-bottom: 12px; }
  .currency-select { margin-top: 8px; padding: 6px 12px; border-radius: 6px; border: none; font-size: 14px; cursor: pointer; }

  .cmc-card { background: linear-gradient(145deg, #2e1a4f, #7b61ff); color: #e6eef8; padding: 12px; font-size: 18px; }

  /* --- Donation Card --- */
  #zec-donation {
    text-align: center; margin: 40px auto; max-width: 320px;
    background: #0f1116; border-radius: 16px; padding: 20px; box-shadow: 0 6px 18px rgba(0,0,0,0.35); color: #e6eef8;
  }
  #zec-donation h3 { color:#7b61ff; margin-bottom:16px; font-size:20px; }
  #zec-donation p { font-size:14px; word-break:break-all; margin-bottom:0; }
  #zec-donation img { width:200px; height:200px; margin-bottom:12px; border-radius:12px; }

  /* --- Memory Game --- */
  #memory-game { max-width: 500px; margin: 60px auto; text-align: center; }
  #memory-game h2 { color:#7b61ff; margin-bottom:20px; }
  #game-board {
    display: grid;
    grid-template-columns: repeat(4, 100px);
    grid-auto-rows: 100px;
    gap: 12px;
    justify-content: center;
  }
  #game-board .card {
    width: 100px;
    height: 100px;
    perspective: 600px;
    cursor: pointer;
  }
  #game-board .card-inner {
    width: 100%;
    height: 100%;
    transition: transform 0.6s;
    transform-style: preserve-3d;
    border-radius: 12px;
    position: relative; /* nu absoluut niet nodig voor flip */
  }
  #game-board .card.flipped .card-inner {
    transform: rotateY(180deg);
  }
  .card-front, .card-back {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    border-radius: 12px;
    backface-visibility: hidden;
  }
  .card-front { transform: rotateY(180deg); object-fit: cover; }
  .card-back { background: #7b61ff; }

  /* --- Footer --- */
  footer { text-align: center; padding: 20px 20px 60px; font-size: 12px; color: #9aa0b4; }
  footer a { color: #7b61ff; text-decoration: none; }
  footer a:hover { text-decoration: underline; }
  .disclaimer { font-size: 10px; opacity: 0.7; margin-top: 12px; }

  @media(max-width: 600px){
    header h1 { font-size: 28px; } 
    header p { font-size: 16px; } 
    .fun-fact p { font-size: 20px; } 
    #game-board { grid-template-columns: repeat(4, 70px); grid-auto-rows: 70px; gap: 8px; }
    #game-board .card { width: 70px; height: 70px; }
  }
</style>
</head>
<body>

<header>
  <div class="logo-title">
    <img src="https://www.logo.wine/a/logo/Zcash/Zcash-Logo.wine.svg" alt="Zcash Logo">
    <h1>is ZECtastic</h1>
  </div>
  <p>Explore the world of Zcash, one fact at a time.</p>
  <button onclick="showNextFact()">Discover Fun Fact</button>
</header>

<section class="fun-fact" id="fun-fact-section">
  <p id="fun-fact-text">Click the button above for some ZECtastic factsâ€¦</p>
</section>

<section class="stats">
  <div class="stat-card">
    <strong>Live ZEC Price</strong>
    <p id="price">Fetchingâ€¦</p>
    <select id="currency" class="currency-select" onchange="fetchPriceAndHypothetical()">
      <option value="usd" selected>USD</option>
      <option value="eur">EUR</option>
      <option value="gbp">GBP</option>
      <option value="btc">BTC</option>
      <option value="eth">ETH</option>
    </select>
  </div>
  <div class="stat-card">
    <strong>Next Halving</strong>
    <p id="halving">Calculatingâ€¦</p>
  </div>
  <div class="stat-card">
    <strong>Hypothetical ZEC Price at BTC Market Cap</strong>
    <p id="hypoPrice">Fetchingâ€¦</p>
  </div>
  <div class="stat-card cmc-card">
    <strong>CoinMarketCap Rank</strong>
    <p><a href="https://coinmarketcap.com/currencies/zcash/" target="_blank">#49</a></p>
  </div>
</section>

<section id="zec-donation">
  <h3>Support with Zcash</h3>
  <img src="images/zec_qrcode.png" alt="Donate Zcash QR">
  <p>u1pxtmfpy6zw0kklrlagy06t5jj73e8etm9mgpzy85unn3zx58putaa990n5al46299dxj8uvpt34yrs2zcdrc76edsw5dqu3w3kdmellf5lzgwx5px5kaltx3xhyshmttaqjph3fkcntz5335vh94rxv4a32r75g4wt4lgnne7yl736rt</p>
</section>


<section class="calculator">
  <h2>ZEC DCA Calculator</h2>
  <div class="calc-inputs">
    <input type="number" id="dailyAmount" placeholder="Daily Investment (USD)" value="10"/>
    <input type="number" id="duration" placeholder="Duration" value="30"/>
    <select id="durationUnit">
      <option value="days" selected>Days</option>
      <option value="months">Months</option>
      <option value="years">Years</option>
    </select>
    <button onclick="calculateDCA()">Calculate</button>
  </div>
  <div class="results" id="results">
    <div class="result-line"><strong>Total Invested:</strong> <span id="invested">â€“</span></div>
    <div class="result-line"><strong>Total Zcash Stacked:</strong> <span id="stacked">â€“</span></div>
    <div class="result-line"><strong>Total Value Today:</strong> <span id="valueToday">â€“</span></div>
    <div class="result-line"><strong>DCA USD/ZEC:</strong> <span id="dcaValue">â€“</span></div>
    <div class="note" id="note"></div>
  </div>
  <p class="credit">Data powered by <a href="https://www.coingecko.com/" target="_blank">CoinGecko</a></p>
</section>

<style>
  .calculator {
    max-width: 700px;
    margin: 40px auto; /* centers the calculator */
    padding: 24px;
    background: #0f1116;
    border-radius: 16px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.35);
    text-align: center; /* keep all elements centered */
  }
  .calc-inputs {
    display: flex;
    gap: 16px;
    margin-bottom: 20px;
    flex-wrap: wrap;
    justify-content: center; /* center inputs */
  }
  .calc-inputs input, .calc-inputs select {
    flex: 1 1 120px; /* allow shrinking and growing, min width 120px */
    padding: 10px;
    border-radius: 8px;
    border: none;
  }
  .calc-inputs button {
    padding: 10px 20px;
    border: none;
    border-radius: 8px;
    background: #7b61ff;
    color: #fff;
    cursor: pointer;
  }
  .results {
    margin-top: 20px;
    text-align: left; /* keep table aligned neatly */
  }
  .result-line {
    display: flex;
    justify-content: space-between;
    padding: 8px 0;
    border-bottom: 1px solid #222;
  }
  .result-line strong {
    color: #9aa0b4;
  }
  .note {
    font-size: 12px;
    color: #9aa0b4;
    margin-top: 8px;
    text-align: center;
  }
  .credit {
    font-size: 12px;
    color: #9aa0b4;
    text-align: center;
    margin-top: 10px;
  }
  .credit a {
    color: #7b61ff;
    text-decoration: none;
  }
</style>

<script>
let lastFetchTime = 0;
let cachedPrice = null;
let isFetching = false;

function getDays(duration, unit) {
  if(unit === 'days') return duration;
  if(unit === 'months') return duration * 30;
  if(unit === 'years') return duration * 365;
  return duration;
}

async function fetchDailyPrices(days){
  const url = `https://api.coingecko.com/api/v3/coins/zcash/market_chart?vs_currency=usd&days=${days}&interval=daily`;
  const res = await fetch(url);
  if(!res.ok) throw new Error(`HTTP ${res.status} - ${res.statusText}`);
  const data = await res.json();
  if(!data.prices || data.prices.length === 0) throw new Error('No price data returned by API.');
  let prices = data.prices.map(p => p[1]);
  if(prices.length > days) prices = prices.slice(0, days); 
  return prices;
}

async function fetchCurrentPrice(){
  const now = Date.now();
  if(cachedPrice && now - lastFetchTime < 60000) return cachedPrice;
  const url = `https://api.coingecko.com/api/v3/simple/price?ids=zcash&vs_currencies=usd`;
  const res = await fetch(url);
  if(!res.ok) throw new Error(`HTTP ${res.status} - ${res.statusText}`);
  const data = await res.json();
  cachedPrice = data.zcash.usd;
  lastFetchTime = now;
  return cachedPrice;
}

async function calculateDCA(){
  if(isFetching) { alert("Please wait a moment before recalculating."); return; }
  isFetching = true;
  setTimeout(()=>{isFetching=false},3000);

  const dailyAmount = parseFloat(document.getElementById('dailyAmount').value);
  const duration = parseInt(document.getElementById('duration').value);
  const unit = document.getElementById('durationUnit').value;

  if(isNaN(dailyAmount) || isNaN(duration) || dailyAmount<=0 || duration<=0){
    alert("Please enter valid values for daily investment and duration.");
    return;
  }

  // Max duration limits
  const maxLimits = { days: 500, months: 16, years: 1 }; // 500 days max
  if(duration > maxLimits[unit]){
    alert(`Maximum duration for ${unit} is ${maxLimits[unit]}. Please enter a shorter period.`);
    return;
  }

  const days = getDays(duration, unit);

  document.getElementById('invested').innerText = 'Fetchingâ€¦';
  document.getElementById('stacked').innerText = 'Fetchingâ€¦';
  document.getElementById('valueToday').innerText = 'Fetchingâ€¦';
  document.getElementById('dcaValue').innerText = 'Fetchingâ€¦';
  document.getElementById('note').innerText = '';

  try {
    const prices = await fetchDailyPrices(days);
    const currentPrice = await fetchCurrentPrice();

    let totalZec = 0;
    prices.forEach(price=>totalZec += dailyAmount/price);

    const totalInvested = dailyAmount*prices.length;
    const totalValueToday = totalZec*currentPrice;
    const dcaValue = totalInvested/totalZec;

    document.getElementById('invested').innerText = `$${totalInvested.toFixed(2)}`;
    document.getElementById('stacked').innerText = totalZec.toFixed(6)+" ZEC";
    document.getElementById('valueToday').innerText = `$${totalValueToday.toFixed(2)}`;
    document.getElementById('dcaValue').innerText = `$${dcaValue.toFixed(2)} USD/ZEC`;
    document.getElementById('note').innerText = `Calculation based on the past ${prices.length} days of ZEC prices (excluding today).`;
  } catch(e){
    document.getElementById('invested').innerText = 'Failed to fetch';
    document.getElementById('stacked').innerText = 'Failed to fetch';
    document.getElementById('valueToday').innerText = 'Failed to fetch';
    document.getElementById('dcaValue').innerText = 'Failed to fetch';
    document.getElementById('note').innerText = '';
    console.error(e);
    alert("Failed to fetch data: " + e.message);
  }
}
</script>




<section id="memory-game">
  <h2>ZEC Memory Game</h2>
  <div id="game-board"></div>
  <p id="game-message" style="margin-top:20px; font-size:18px;"></p>
  <button onclick="startGame()" style="margin-top:20px; padding:12px 24px; font-size:16px; border:none; border-radius:8px; background:#7b61ff; color:#fff; cursor:pointer;">Restart Game</button>
</section>

<footer>
  Sources: 
  <a href="https://forum.zcashcommunity.com/" target="_blank">Zcash Forum</a>, 
  <a href="https://electriccoin.co/blog/" target="_blank">Electric Coin Co</a>, 
  <a href="https://www.zcashcommunity.com/wallets/" target="_blank">Wallets</a>, 
  <a href="https://www.coingecko.com/en/coins/zcash" target="_blank">CoinGecko</a>, 
  <a href="https://z.cash" target="_blank">Zcash Official</a>
  <div class="disclaimer">
    This website is a non-official product and for informational purposes only. Designed by <a href="https://twitter.com/BTCTurtle" target="_blank">@BTCTurtle</a>.
  </div>
</footer>

<script>
// --- Fun Facts ---
const facts = [
  "Zcash was the first cryptocurrency to implement zk-SNARKs, enabling private transactions.",
  "Users can choose between transparent and shielded addresses, offering flexibility in transaction privacy.",
  "Shielded transactions hide the sender, recipient, and amount, ensuring complete confidentiality.",
  "Zcash's privacy features comply with stringent regulatory standards, making it suitable for institutional use.",
  "The use of zero-knowledge proofs ensures that transaction data remains private while still being verifiable.",
  "Zcash's privacy model is optional, allowing users to choose their desired level of transparency.",
  "The network's cryptographic innovations have been peer-reviewed by leading researchers in the field.",
  "Zcash's commitment to privacy has been recognized by privacy advocates and organizations worldwide.",
  "The protocol's design allows for future upgrades to enhance privacy features without compromising security.",
  "Zcash's privacy features are built into the protocol, not reliant on external tools or mixers.",
  "Zcash is supported by major exchanges like Coinbase and Gemini, providing easy access for users.",
  "The Electric Coin Company (ECC) collaborates with various institutions to promote Zcash adoption.",
  "Zcash has been integrated into several wallets, including Zashi, which enforces shielding by default.",
  "The Zcash Foundation supports the development of the ecosystem through grants and community initiatives.",
  "Zcash's open-source nature encourages innovation and contributions from developers worldwide.",
  "The network's consensus mechanism, Proof-of-Work, ensures decentralization and security.",
  "Zcash has been featured in educational content by platforms like Coinbase, reaching a broad audience.",
  "The community actively participates in governance through the ZIP process, influencing the protocol's future.",
  "Zcash's interoperability with other blockchains is being explored to enhance its utility.",
  "The network's scalability solutions aim to handle increased transaction volumes efficiently.",
  "Zcash offers a unique combination of privacy and transparency, catering to diverse user needs.",
  "The fixed supply of 21 million coins ensures scarcity, potentially increasing value over time.",
  "Zcash's privacy features make it ideal for protecting sensitive financial information.",
  "The network's low transaction fees make it cost-effective for microtransactions.",
  "Zcash's fast transaction speeds enhance user experience, especially in cross-border payments.",
  "The growing adoption of Zcash indicates increasing trust and demand in the market.",
  "Zcash's commitment to continuous development ensures it remains at the forefront of privacy technology.",
  "The backing of reputable organizations adds credibility to Zcash's long-term viability.",
  "Zcash's focus on user control over privacy aligns with the ethos of individual empowerment in the digital age.",
  "Investing in Zcash supports the advancement of privacy technologies in the blockchain space."
];
let currentFactIndex = null;
const funFactText = document.getElementById('fun-fact-text');
function showNextFact(){
  funFactText.style.opacity = 0;
  setTimeout(()=>{
    let nextIndex;
    do { nextIndex = Math.floor(Math.random() * facts.length); } while(nextIndex === currentFactIndex);
    currentFactIndex = nextIndex;
    funFactText.innerText = facts[currentFactIndex];
    funFactText.style.opacity = 1;
  },250);
}

// --- Live Price ---
async function fetchPriceAndHypothetical(){
  const currency = document.getElementById('currency').value.toLowerCase();
  document.getElementById('price').innerText = 'Fetchingâ€¦';
  document.getElementById('hypoPrice').innerText = 'Fetchingâ€¦';
  try{
    const res = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=zcash,bitcoin&vs_currencies=${currency}&include_market_cap=true`);
    const data = await res.json();
    let zecPrice = data?.zcash?.[currency];
    if(zecPrice !== undefined){
      let formatted = (currency==='btc'||currency==='eth')? zecPrice.toFixed(8)+' '+currency.toUpperCase() : (currency==='usd'? '$':'') + zecPrice.toLocaleString(undefined,{maximumFractionDigits:2});
      document.getElementById('price').innerText = formatted;
    }
    const btcCap = data?.bitcoin?.[`${currency}_market_cap`];
    if(btcCap){
      const zecSupply = 16328269;
      const hypoPrice = btcCap / zecSupply;
      document.getElementById('hypoPrice').innerText = hypoPrice.toLocaleString(undefined,{maximumFractionDigits:2})+' '+currency.toUpperCase();
    }
  }catch(e){ document.getElementById('price').innerText = 'Fetchingâ€¦'; document.getElementById('hypoPrice').innerText = 'Fetchingâ€¦'; }
}

// Halving countdown
const halvingDate = new Date('2028-11-18T00:00:00Z');
function updateCountdown(){
  const now = new Date();
  const diff = halvingDate - now;
  if(diff <= 0){ document.getElementById('halving').innerText = 'Halving occurred'; return; }
  const d = Math.floor(diff/(1000*60*60*24));
  const h = Math.floor((diff/(1000*60*60))%24);
  const m = Math.floor((diff/(1000*60))%60);
  const s = Math.floor((diff/1000)%60);
  document.getElementById('halving').innerText=`${d}d ${h}h ${m}m ${s}s`;
}

fetchPriceAndHypothetical();
setInterval(fetchPriceAndHypothetical,60000);
updateCountdown();
setInterval(updateCountdown,1000);

// --- Memory Game ---
const memImages = [
    'images/zcash-card.png',
  'images/ledger.png',
  'images/keystone.png',
  'images/zashi.png',
  'images/zingo.png',
  'images/trezor.png',
  'images/exodus.png',
  'images/edge.png'
];

let cards = [];
let firstCard = null;
let secondCard = null;
let lockBoard = false;
let matches = 0;

function startGame(){
  const board = document.getElementById('game-board');
  board.innerHTML = '';
  document.getElementById('game-message').innerText = '';
  firstCard = null; secondCard = null; lockBoard=false; matches=0;
  cards = [...memImages,...memImages];
  cards.sort(()=>0.5 - Math.random());
  cards.forEach(imgSrc=>{
    const card=document.createElement('div'); card.classList.add('card'); card.dataset.img=imgSrc;
    const inner=document.createElement('div'); inner.classList.add('card-inner');
    const front=document.createElement('img'); front.src=imgSrc; front.classList.add('card-front');
    const back=document.createElement('div'); back.classList.add('card-back');
    inner.appendChild(front); inner.appendChild(back); card.appendChild(inner);
    card.addEventListener('click',()=>flipCard(card));
    board.appendChild(card);
  });
}

function flipCard(card){
  if(lockBoard || card===firstCard || card.classList.contains('flipped')) return;
  card.classList.add('flipped');
  if(!firstCard){ firstCard=card; return; }
  secondCard=card; lockBoard=true;
  if(firstCard.dataset.img===secondCard.dataset.img){
    matches++; firstCard=null; secondCard=null; lockBoard=false;
    if(matches===memImages.length){ document.getElementById('game-message').innerText='ðŸŽ‰ You matched all ZEC cards! ðŸŽ‰'; }
  }else{
    setTimeout(()=>{
      firstCard.classList.remove('flipped'); secondCard.classList.remove('flipped'); firstCard=null; secondCard=null; lockBoard=false;
    },1000);
  }
}

startGame();
</script>

</body>
</html>
