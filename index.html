<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Zcash is ZECtastic</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: 'Inter', sans-serif; background: #0b0b10; color: #e6eef8; line-height: 1.6; overflow-x: hidden; }

  /* Hero Section */
  header { background: linear-gradient(135deg, #7b61ff, #2dd4bf); text-align: center; padding: 80px 20px 60px; }
  .logo-title { display: flex; align-items: center; justify-content: center; gap: 10px; }
  header img { max-width: 220px; height: auto; }
  header h1 { font-size: 40px; font-weight: 700; }
  header p { font-size: 20px; opacity: 0.9; margin: 16px 0 24px; }
  header button { padding: 14px 28px; font-size: 16px; border: none; border-radius: 8px; background: #0b0b10; color: #fff; cursor: pointer; transition: 0.3s; }
  header button:hover { background: #1a1c26; }

  /* Fun Fact Section */
  .fun-fact { max-width: 700px; margin: -40px auto 60px; padding: 40px 20px; text-align: center; background: linear-gradient(145deg, #2e1a4f, #7b61ff); border-radius: 20px; box-shadow: 0 8px 24px rgba(0,0,0,0.4); transition: transform 0.2s; }
  .fun-fact:hover { transform: translateY(-4px); }
  .fun-fact p { font-size: 24px; font-weight: 500; transition: opacity 0.3s; }

  /* Stats Section */
  .stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 24px; max-width: 1000px; margin: 40px auto; padding: 0 20px; }
  .stat-card { background: #0f1116; border-radius: 16px; padding: 24px; text-align: center; box-shadow: 0 6px 18px rgba(0,0,0,0.35); transition: 0.3s; }
  .stat-card:hover { transform: translateY(-4px); }
  .stat-card strong { display: block; font-size: 14px; color: #9aa0b4; margin-bottom: 8px; }
  .stat-card p { font-size: 20px; margin-bottom: 12px; }
  .currency-select { margin-top: 8px; padding: 6px 12px; border-radius: 6px; border: none; font-size: 14px; cursor: pointer; }

  .cmc-card { background: linear-gradient(145deg, #2e1a4f, #7b61ff); color: #e6eef8; padding: 12px; font-size: 18px; }

  /* Donation Card */
  #zec-donation { text-align: center; margin: 40px auto; max-width: 320px; background: #0f1116; border-radius: 16px; padding: 20px; box-shadow: 0 6px 18px rgba(0,0,0,0.35); color: #e6eef8; }
  #zec-donation h3 { color:#7b61ff; margin-bottom:16px; font-size:20px; }
  #zec-donation p { font-size:14px; word-break:break-all; margin-bottom:0; }
  #zec-donation img { width:200px; height:200px; margin-bottom:12px; border-radius:12px; }

  /* Memory Game */
  #memory-game { max-width: 500px; margin: 60px auto; text-align: center; }
  #memory-game h2 { color:#7b61ff; margin-bottom:20px; }
  #game-board { display: grid; grid-template-columns: repeat(4, 100px); grid-auto-rows: 100px; gap: 12px; justify-content: center; }
  #game-board .card { width: 100px; height: 100px; perspective: 600px; cursor: pointer; }
  #game-board .card-inner { width: 100%; height: 100%; transition: transform 0.6s; transform-style: preserve-3d; border-radius: 12px; position: relative; }
  #game-board .card.flipped .card-inner { transform: rotateY(180deg); }
  .card-front, .card-back { width: 100%; height: 100%; position: absolute; top: 0; left: 0; border-radius: 12px; backface-visibility: hidden; }
  .card-front { transform: rotateY(180deg); object-fit: cover; }
  .card-back { background: #7b61ff; }

  /* Launch Button & Overlays */
  #launch-btn { position: fixed; bottom: 24px; right: 24px; padding: 14px 22px; border: none; border-radius: 50px; background: orange; color: #fff; font-size: 16px; font-weight: 600; cursor: pointer; z-index: 9999; box-shadow: 0 6px 20px rgba(0,0,0,0.4); }
  #rocket { position: fixed; bottom: -80px; left: 50%; transform: translateX(-50%); font-size: 60px; z-index: 10000; pointer-events: none; transition: transform 2.5s ease-out; }
  #confetti { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 9998; }
  #zec-price { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); font-size: 22px; font-weight: bold; color: #7b61ff; z-index: 10001; text-align: center; }

  /* Footer */
  footer { text-align: center; padding: 20px 20px 60px; font-size: 12px; color: #9aa0b4; }
  footer a { color: #7b61ff; text-decoration: none; }
  footer a:hover { text-decoration: underline; }
  .disclaimer { font-size: 10px; opacity: 0.7; margin-top: 12px; }

  @media(max-width: 600px){
    header h1 { font-size: 28px; } 
    header p { font-size: 16px; } 
    .fun-fact p { font-size: 20px; } 
    #game-board { grid-template-columns: repeat(4, 70px); grid-auto-rows: 70px; gap: 8px; }
    #game-board .card { width: 70px; height: 70px; }
  }
</style>
</head>
<body>

<header>
  <div class="logo-title">
    <img src="https://www.logo.wine/a/logo/Zcash/Zcash-Logo.wine.svg" alt="Zcash Logo">
    <h1>is ZECtastic</h1>
  </div>
  <p>Explore the world of Zcash, one fact at a time.</p>
  <button onclick="showNextFact()">Discover Fun Fact</button>
</header>

<section class="fun-fact" id="fun-fact-section">
  <p id="fun-fact-text">Click the button above for some ZECtastic facts…</p>
</section>

<section class="stats">
  <div class="stat-card">
    <strong>Live ZEC Price</strong>
    <p id="price">Fetching…</p>
    <select id="currency" class="currency-select" onchange="fetchPriceAndHypothetical()">
      <option value="usd" selected>USD</option>
      <option value="eur">EUR</option>
      <option value="gbp">GBP</option>
      <option value="btc">BTC</option>
      <option value="eth">ETH</option>
    </select>
  </div>
  <div class="stat-card">
    <strong>Next Halving</strong>
    <p id="halving">Calculating…</p>
  </div>
  <div class="stat-card">
    <strong>Hypothetical ZEC Price at BTC Market Cap</strong>
    <p id="hypoPrice">Fetching…</p>
  </div>
  <div class="stat-card cmc-card">
    <strong>CoinMarketCap Rank</strong>
    <p id="cmc-rank">Fetching…</p>
  </div>
</section>

<section class="stat-card" id="dca-calculator" style="max-width:700px;margin:40px auto;">
  <strong>DCA Calculator (Historical Daily Buys)</strong>
  <div style="margin-top:12px; text-align:center;">
    <label>Days to Simulate:</label>
    <input type="number" id="dca-days" value="365" min="1" max="500" step="1"
      style="width:80px; padding:6px 10px; border-radius:6px; border:none; margin-right:10px;">
    
    <label>Daily Investment (USD):</label>
    <input type="number" id="dca-amount" value="10" min="1" step="1"
      style="width:80px; padding:6px 10px; border-radius:6px; border:none; margin-right:10px;">
    
    <button id="dca-btn"
      style="padding:8px 16px;border:none;border-radius:6px;background:#7b61ff;color:#fff;cursor:pointer;">
      Calculate
    </button>
  </div>

  <p id="dca-status" style="margin-top:14px; text-align:center; color:#9aa0b4;"></p>

  <table id="dca-table" style="width:100%;margin-top:20px;border-collapse:collapse;display:none;">
    <thead>
      <tr style="background:#1a1c26;color:#7b61ff;">
        <th style="padding:10px;border-radius:6px 0 0 6px;">Metric</th>
        <th style="padding:10px;border-radius:0 6px 6px 0;">Value</th>
      </tr>
    </thead>
    <tbody id="dca-results" style="background:#0f1116;"></tbody>
  </table>

  <p style="text-align:center;margin-top:10px;font-size:12px;color:#9aa0b4;">
    Data source: <a href="https://www.coingecko.com/en/coins/zcash" target="_blank" style="color:#7b61ff;">CoinGecko API</a>
  </p>
</section>

<script>
let lastDcaCall = 0;

document.getElementById('dca-btn').addEventListener('click', async () => {
  const btn = document.getElementById('dca-btn');
  const status = document.getElementById('dca-status');
  const table = document.getElementById('dca-table');
  const tbody = document.getElementById('dca-results');

  const days = parseInt(document.getElementById('dca-days').value);
  const daily = parseFloat(document.getElementById('dca-amount').value);
  const cooldown = 6000; // 6 sec

  const now = Date.now();
  if (now - lastDcaCall < cooldown) {
    const wait = ((cooldown - (now - lastDcaCall)) / 1000).toFixed(1);
    status.innerText = `⏳ Wait ${wait}s before recalculating.`;
    return;
  }
  lastDcaCall = now;

  if (isNaN(days) || days <= 0) { status.innerText = '⚠️ Invalid days'; return; }
  if (isNaN(daily) || daily <= 0) { status.innerText = '⚠️ Invalid daily amount'; return; }

  btn.disabled = true;
  btn.innerText = 'Calculating…';
  status.innerText = '⏳ Fetching historical prices…';
  table.style.display = 'none';
  tbody.innerHTML = '';

  try {
    const today = Math.floor(Date.now() / 1000);
    const from = today - days * 86400;

    const res = await fetch(`https://api.coingecko.com/api/v3/coins/zcash/market_chart/range?vs_currency=usd&from=${from}&to=${today}`);
    const data = await res.json();
    const prices = data?.prices || [];
    if (!prices.length) { status.innerText = '⚠️ No price data'; return; }

    // one price per day
    const dailyMap = {};
    prices.forEach(([ts, price]) => {
      const day = new Date(ts).toISOString().split('T')[0];
      if (!dailyMap[day]) dailyMap[day] = price;
    });
    const dailyPrices = Object.values(dailyMap);

    let totalInvested = 0, totalZEC = 0;
    dailyPrices.forEach(p => { totalInvested += daily; totalZEC += daily / p; });

    const currentRes = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=zcash&vs_currencies=usd');
    const currentData = await currentRes.json();
    const currentPrice = currentData?.zcash?.usd || dailyPrices[dailyPrices.length-1];
    const currentValue = totalZEC * currentPrice;
    const profit = currentValue - totalInvested;
    const roi = (profit / totalInvested) * 100;

    tbody.innerHTML = `
      <tr><td style="padding:10px;">Date Range</td><td style="padding:10px;">${days} days</td></tr>
      <tr><td style="padding:10px;">Daily Investment</td><td style="padding:10px;">$${daily.toFixed(2)}</td></tr>
      <tr><td style="padding:10px;">Total Invested</td><td style="padding:10px;">$${totalInvested.toFixed(2)}</td></tr>
      <tr><td style="padding:10px;">Total ZEC Acquired</td><td style="padding:10px;">${totalZEC.toFixed(4)} ZEC</td></tr>
      <tr><td style="padding:10px;">Current ZEC Price</td><td style="padding:10px;">$${currentPrice.toFixed(2)}</td></tr>
      <tr><td style="padding:10px;">Current Portfolio Value</td><td style="padding:10px;">$${currentValue.toFixed(2)}</td></tr>
      <tr><td style="padding:10px;">Profit / Loss</td><td style="padding:10px;color:${profit>=0?'#4ade80':'#f87171'};">$${profit.toFixed(2)} (${roi.toFixed(2)}%)</td></tr>
    `;
    table.style.display = 'table';
    status.innerText = `✅ Calculated over ${dailyPrices.length} days.`;

  } catch(e) {
    console.error(e);
    status.innerText = '❌ Error fetching data.';
  } finally {
    btn.disabled = false;
    btn.innerText = 'Calculate';
  }
});
</script>




<section id="zec-donation">
  <h3>Support with Zcash</h3>
  <img src="images/zec_qrcode.png" alt="Donate Zcash QR">
  <p>u1pxtmfpy6zw0kklrlagy06t5jj73e8etm9mgpzy85unn3zx58putaa990n5al46299dxj8uvpt34yrs2zcdrc76edsw5dqu3w3kdmellf5lzgwx5px5kaltx3xhyshmttaqjph3fkcntz5335vh94rxv4a32r75g4wt4lgnne7yl736rt</p>
</section>

<!-- Launch Button & overlays -->
<button id="launch-btn">🚀 Launch ZEC</button>
<div id="rocket">🚀</div>
<canvas id="confetti"></canvas>
<p id="zec-price"></p>

<!-- Memory Game -->
<section id="memory-game">
  <h2>ZEC Memory Game</h2>
  <div id="game-board"></div>
  <p id="game-message" style="margin-top:20px; font-size:18px;"></p>
  <button onclick="startGame()" style="margin-top:20px; padding:12px 24px; font-size:16px; border:none; border-radius:8px; background:#7b61ff; color:#fff; cursor:pointer;">Restart Game</button>
</section>

<footer>
  Sources: 
  <a href="https://forum.zcashcommunity.com/" target="_blank">Zcash Forum</a>, 
  <a href="https://electriccoin.co/blog/" target="_blank">Electric Coin Co</a>, 
  <a href="https://www.zcashcommunity.com/wallets/" target="_blank">Wallets</a>, 
  <a href="https://www.coingecko.com/en/coins/zcash" target="_blank">CoinGecko</a>, 
  <a href="https://z.cash" target="_blank">Zcash Official</a>
  <div class="disclaimer">
    This website is a non-official product and for informational purposes only. Designed by <a href="https://twitter.com/BTCTurtle" target="_blank">@BTCTurtle</a>.
  </div>
</footer>

<script>
// ========== FUN FACTS ==========
const facts = [
  "Zcash was the first cryptocurrency to implement zk-SNARKs, enabling private transactions.",
  "Users can choose between transparent and shielded addresses, offering flexibility in transaction privacy.",
  "Shielded transactions hide the sender, recipient, and amount, ensuring complete confidentiality.",
  "Zcash's privacy features comply with stringent regulatory standards, making it suitable for institutional use.",
  "The use of zero-knowledge proofs ensures that transaction data remains private while still being verifiable.",
  "Zcash's privacy model is optional, allowing users to choose their desired level of transparency.",
  "The network's cryptographic innovations have been peer-reviewed by leading researchers in the field.",
  "Zcash's commitment to privacy has been recognized by privacy advocates and organizations worldwide.",
  "The protocol's design allows for future upgrades to enhance privacy features without compromising security.",
  "Zcash's privacy features are built into the protocol, not reliant on external tools or mixers.",
  "Zcash is supported by major exchanges like Coinbase and Gemini, providing easy access for users.",
  "The Electric Coin Company (ECC) collaborates with various institutions to promote Zcash adoption.",
  "Zcash has been integrated into several wallets, including Zashi, which enforces shielding by default.",
  "The Zcash Foundation supports the development of the ecosystem through grants and community initiatives.",
  "Zcash's open-source nature encourages innovation and contributions from developers worldwide.",
  "The network's consensus mechanism, Proof-of-Work, ensures decentralization and security.",
  "Zcash has been featured in educational content by platforms like Coinbase, reaching a broad audience.",
  "The community actively participates in governance through the ZIP process, influencing the protocol's future.",
  "Zcash's interoperability with other blockchains is being explored to enhance its utility.",
  "The network's scalability solutions aim to handle increased transaction volumes efficiently.",
  "Zcash offers a unique combination of privacy and transparency, catering to diverse user needs.",
  "The fixed supply of 21 million coins ensures scarcity, potentially increasing value over time.",
  "Zcash's privacy features make it ideal for protecting sensitive financial information.",
  "The network's low transaction fees make it cost-effective for microtransactions.",
  "Zcash's fast transaction speeds enhance user experience, especially in cross-border payments.",
  "The growing adoption of Zcash indicates increasing trust and demand in the market.",
  "Zcash's commitment to continuous development ensures it remains at the forefront of privacy technology.",
  "The backing of reputable organizations adds credibility to Zcash's long-term viability.",
  "Zcash's focus on user control over privacy aligns with the ethos of individual empowerment in the digital age.",
  "Investing in Zcash supports the advancement of privacy technologies in the blockchain space."
];
let currentFactIndex = null;
const funFactText = document.getElementById('fun-fact-text');
function showNextFact(){
  funFactText.style.opacity = 0;
  setTimeout(()=>{
    let nextIndex;
    do { nextIndex = Math.floor(Math.random() * facts.length); } while(nextIndex === currentFactIndex);
    currentFactIndex = nextIndex;
    funFactText.innerText = facts[currentFactIndex];
    funFactText.style.opacity = 1;
  },250);
}

// ========== LIVE PRICE & HALVING ==========
async function fetchPriceAndHypothetical(){
  const currency = document.getElementById('currency').value.toLowerCase();
  document.getElementById('price').innerText = 'Fetching…';
  document.getElementById('hypoPrice').innerText = 'Fetching…';
  try{
    const res = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=zcash,bitcoin&vs_currencies=${currency}&include_market_cap=true`);
    const data = await res.json();
    let zecPrice = data?.zcash?.[currency];
    if(zecPrice !== undefined){
      let formatted = (currency==='btc'||currency==='eth')? zecPrice.toFixed(8)+' '+currency.toUpperCase() : (currency==='usd'? '$':'') + zecPrice.toLocaleString(undefined,{maximumFractionDigits:2});
      document.getElementById('price').innerText = formatted;
    }
    const btcCap = data?.bitcoin?.[`${currency}_market_cap`];
    if(btcCap){
      const zecSupply = 16328269;
      const hypoPrice = btcCap / zecSupply;
      document.getElementById('hypoPrice').innerText = hypoPrice.toLocaleString(undefined,{maximumFractionDigits:2})+' '+currency.toUpperCase();
    }
  }catch(e){ document.getElementById('price').innerText = 'Fetching…'; document.getElementById('hypoPrice').innerText = 'Fetching…'; }
}

const halvingDate = new Date('2028-11-18T00:00:00Z');
function updateCountdown(){
  const now = new Date();
  const diff = halvingDate - now;
  if(diff <= 0){ document.getElementById('halving').innerText = 'Halving occurred'; return; }
  const d = Math.floor(diff/(1000*60*60*24));
  const h = Math.floor((diff/(1000*60*60))%24);
  const m = Math.floor((diff/(1000*60))%60);
  const s = Math.floor((diff/1000)%60);
  document.getElementById('halving').innerText=`${d}d ${h}h ${m}m ${s}s`;
}

fetchPriceAndHypothetical();
setInterval(fetchPriceAndHypothetical,60000);
updateCountdown();
setInterval(updateCountdown,1000);

// ========== Memory Game ==========
const memImages = ['images/zcash-card.png','images/ledger.png','images/keystone.png','images/zashi.png','images/zingo.png','images/trezor.png','images/exodus.png','images/edge.png'];
let cards=[], firstCard=null, secondCard=null, lockBoard=false, matches=0;

function startGame(){
  const board = document.getElementById('game-board');
  board.innerHTML = '';
  document.getElementById('game-message').innerText = '';
  firstCard = null; secondCard = null; lockBoard=false; matches=0;
  cards = [...memImages,...memImages];
  cards.sort(()=>0.5 - Math.random());
  cards.forEach(imgSrc=>{
    const card=document.createElement('div'); card.classList.add('card'); card.dataset.img=imgSrc;
    const inner=document.createElement('div'); inner.classList.add('card-inner');
    const front=document.createElement('img'); front.src=imgSrc; front.classList.add('card-front');
    const back=document.createElement('div'); back.classList.add('card-back');
    inner.appendChild(front); inner.appendChild(back); card.appendChild(inner);
    card.addEventListener('click',()=>flipCard(card));
    board.appendChild(card);
  });
}

function flipCard(card){
  if(lockBoard || card===firstCard || card.classList.contains('flipped')) return;
  card.classList.add('flipped');
  if(!firstCard){ firstCard=card; return; }
  secondCard=card; lockBoard=true;
  if(firstCard.dataset.img===secondCard.dataset.img){
    matches++; firstCard=null; secondCard=null; lockBoard=false;
    if(matches===memImages.length){ document.getElementById('game-message').innerText='🎉 You matched all ZEC cards! 🎉'; }
  }else{
    setTimeout(()=>{ firstCard.classList.remove('flipped'); secondCard.classList.remove('flipped'); firstCard=null; secondCard=null; lockBoard=false; },1000);
  }
}

startGame();

// ========== CoinMarketCap Rank ==========
async function fetchCMCRank() {
  const rankEl = document.getElementById('cmc-rank');
  try {
    const res = await fetch('https://api.coingecko.com/api/v3/coins/zcash');
    const data = await res.json();
    const rank = data?.market_cap_rank || 'N/A';
    rankEl.innerHTML = `<a href="https://coinmarketcap.com/currencies/zcash/" target="_blank">#${rank}</a>`;
  } catch (err) { rankEl.innerText = 'Unavailable'; }
}
fetchCMCRank();
setInterval(fetchCMCRank, 3600000);

// ========== Launch ZEC ==========
const launchBtn = document.getElementById('launch-btn');
const rocket = document.getElementById('rocket');
const priceElZEC = document.getElementById('zec-price');
const canvas = document.getElementById('confetti');
const ctx = canvas.getContext('2d');
let particles = [];
let confettiActive = false;

function resizeCanvas() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

launchBtn.addEventListener('click', async () => {
  if(confettiActive) return;
  priceElZEC.innerText = '';
  rocket.style.transform = 'translate(-50%, -600px)';
  confettiActive=true;
  setTimeout(startConfetti, 1500);
  setTimeout(async()=>{
    await showZecPrice();
    confettiActive=false;
    rocket.style.transform = 'translate(-50%, 0)';
  },3500);
});

async function showZecPrice(){
  try {
    const res = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=zcash&vs_currencies=usd');
    const data = await res.json();
    const price = data?.zcash?.usd || 'N/A';
    priceElZEC.innerHTML = `Current ZEC Price: <span style="color:#4ade80;">$${price}</span>`;
  } catch(e){ priceElZEC.innerText='Unable to fetch price.'; }
}

function startConfetti(){
  particles=[];
  for(let i=0;i<120;i++) particles.push({ x: Math.random()*canvas.width, y: Math.random()*canvas.height-canvas.height, r: Math.random()*6+4, d: Math.random()*canvas.height, color:`hsl(${Math.random()*360},70%,60%)`, tilt: Math.random()*10-10 });
  requestAnimationFrame(drawConfetti);
  setTimeout(()=>particles=[],3000);
}

function drawConfetti(){
  if(!particles.length) return;
  ctx.clearRect(0,0,canvas.width,canvas.height);
  particles.forEach(p=>ctx.fillRect(p.x,p.y,p.r,p.r, ctx.fillStyle=p.color));
  updateConfetti();
  requestAnimationFrame(drawConfetti);
}

function updateConfetti(){
  for(let p of particles){
    p.y+=Math.cos(p.d)+2;
    p.x+=Math.sin(p.d);
    if(p.y>canvas.height){p.y=-10; p.x=Math.random()*canvas.width;}
  }
}
</script>
</body>
</html>
