<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Zcash is ZECtastic</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body { font-family: 'Inter', sans-serif; background: #0b0b10; color: #e6eef8; line-height: 1.6; }

  /* --- Hero Section --- */
  header { 
    background: linear-gradient(135deg, #7b61ff, #2dd4bf); 
    text-align: center; 
    padding: 80px 20px 60px; 
  }
  .logo-title { display: flex; align-items: center; justify-content: center; gap: 10px; }
  header img { max-width: 220px; height: auto; }
  header h1 { font-size: 40px; font-weight: 700; }
  header p { font-size: 20px; opacity: 0.9; margin: 16px 0 24px; }
  header button { padding: 14px 28px; font-size: 16px; border: none; border-radius: 8px; background: #0b0b10; color: #fff; cursor: pointer; transition: 0.3s; }
  header button:hover { background: #1a1c26; }

  /* --- Fun Fact Section --- */
  .fun-fact { 
    max-width: 700px; margin: -40px auto 60px; padding: 40px 20px; 
    text-align: center; background: linear-gradient(145deg, #2e1a4f, #7b61ff); 
    border-radius: 20px; box-shadow: 0 8px 24px rgba(0,0,0,0.4); 
    transition: transform 0.2s; 
  }
  .fun-fact:hover { transform: translateY(-4px); }
  .fun-fact p { font-size: 24px; font-weight: 500; transition: opacity 0.3s; }

  /* --- Live Data Section --- */
  .stats { 
    display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); 
    gap: 24px; max-width: 1000px; margin: 40px auto; padding: 0 20px; 
  }
  .stat-card { 
    background: #0f1116; border-radius: 16px; padding: 24px; text-align: center; 
    box-shadow: 0 6px 18px rgba(0,0,0,0.35); transition: 0.3s; 
  }
  .stat-card:hover { transform: translateY(-4px); }
  .stat-card strong { display: block; font-size: 14px; color: #9aa0b4; margin-bottom: 8px; }
  .stat-card p { font-size: 20px; margin-bottom: 12px; }
  .currency-select { margin-top: 8px; padding: 6px 12px; border-radius: 6px; border: none; font-size: 14px; cursor: pointer; }

  .cmc-card { background: linear-gradient(145deg, #2e1a4f, #7b61ff); color: #e6eef8; padding: 12px; font-size: 18px; }

  /* --- Donation Card --- */
  #zec-donation {
    text-align: center; margin: 40px auto; max-width: 320px;
    background: #0f1116; border-radius: 16px; padding: 20px; box-shadow: 0 6px 18px rgba(0,0,0,0.35); color: #e6eef8;
  }
  #zec-donation h3 { color:#7b61ff; margin-bottom:16px; font-size:20px; }
  #zec-donation p { font-size:14px; word-break:break-all; margin-bottom:0; }
  #zec-donation img { width:200px; height:200px; margin-bottom:12px; border-radius:12px; }

  /* --- Memory Game --- */
  #memory-game { max-width: 500px; margin: 60px auto; text-align: center; }
  #memory-game h2 { color:#7b61ff; margin-bottom:20px; }
  #game-board {
    display: grid;
    grid-template-columns: repeat(4, 100px);
    grid-auto-rows: 100px;
    gap: 12px;
    justify-content: center;
  }
  #game-board .card {
    width: 100px;
    height: 100px;
    perspective: 600px;
    cursor: pointer;
  }
  #game-board .card-inner {
    width: 100%;
    height: 100%;
    transition: transform 0.6s;
    transform-style: preserve-3d;
    border-radius: 12px;
    position: relative; /* nu absoluut niet nodig voor flip */
  }
  #game-board .card.flipped .card-inner {
    transform: rotateY(180deg);
  }
  .card-front, .card-back {
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    border-radius: 12px;
    backface-visibility: hidden;
  }
  .card-front { transform: rotateY(180deg); object-fit: cover; }
  .card-back { background: #7b61ff; }

  /* --- Footer --- */
  footer { text-align: center; padding: 20px 20px 60px; font-size: 12px; color: #9aa0b4; }
  footer a { color: #7b61ff; text-decoration: none; }
  footer a:hover { text-decoration: underline; }
  .disclaimer { font-size: 10px; opacity: 0.7; margin-top: 12px; }

  @media(max-width: 600px){
    header h1 { font-size: 28px; } 
    header p { font-size: 16px; } 
    .fun-fact p { font-size: 20px; } 
    #game-board { grid-template-columns: repeat(4, 70px); grid-auto-rows: 70px; gap: 8px; }
    #game-board .card { width: 70px; height: 70px; }
  }
</style>
</head>
<body>

<header>
  <div class="logo-title">
    <img src="https://www.logo.wine/a/logo/Zcash/Zcash-Logo.wine.svg" alt="Zcash Logo">
    <h1>is ZECtastic</h1>
  </div>
  <p>Explore the world of Zcash, one fact at a time.</p>
  <button onclick="showNextFact()">Discover Fun Fact</button>
</header>

<section class="fun-fact" id="fun-fact-section">
  <p id="fun-fact-text">Click the button above for some ZECtastic factsâ€¦</p>
</section>

<section class="stats">
  <div class="stat-card">
    <strong>Live ZEC Price</strong>
    <p id="price">Fetchingâ€¦</p>
    <select id="currency" class="currency-select" onchange="fetchPriceAndHypothetical()">
      <option value="usd" selected>USD</option>
      <option value="eur">EUR</option>
      <option value="gbp">GBP</option>
      <option value="btc">BTC</option>
      <option value="eth">ETH</option>
    </select>
  </div>
  <div class="stat-card">
    <strong>Next Halving</strong>
    <p id="halving">Calculatingâ€¦</p>
  </div>
  <div class="stat-card">
    <strong>Hypothetical ZEC Price at BTC Market Cap</strong>
    <p id="hypoPrice">Fetchingâ€¦</p>
  </div>
  <div class="stat-card cmc-card">
    <strong>CoinMarketCap Rank</strong>
    <p><a href="https://coinmarketcap.com/currencies/zcash/" target="_blank">#49</a></p>
  </div>
</section>

<section id="zec-donation">
  <h3>Support with Zcash</h3>
  <img src="images/zec_qrcode.png" alt="Donate Zcash QR">
  <p>u1pxtmfpy6zw0kklrlagy06t5jj73e8etm9mgpzy85unn3zx58putaa990n5al46299dxj8uvpt34yrs2zcdrc76edsw5dqu3w3kdmellf5lzgwx5px5kaltx3xhyshmttaqjph3fkcntz5335vh94rxv4a32r75g4wt4lgnne7yl736rt</p>
</section>

<section id="zec-savings" style="max-width: 360px; margin: 40px auto; background:#0f1116; border-radius:16px; padding:20px; box-shadow:0 6px 18px rgba(0,0,0,0.35); text-align:center; color:#e6eef8;">
  <h3 style="color:#7b61ff; margin-bottom:16px;">ZEC Savings Calculator</h3>
  <label>Amount per day (USD/EUR):</label><br>
  <input type="number" id="save-amount" value="10" step="0.01" style="margin:8px 0; padding:6px 10px; border-radius:6px; border:none; width:80%;"><br>
  <label>Number of days:</label><br>
  <input type="number" id="save-days" value="30" style="margin:8px 0; padding:6px 10px; border-radius:6px; border:none; width:80%;"><br>

  <div style="margin-top:16px; text-align:left; font-size:16px; line-height:1.6;">
    <p>Total Invested: <span id="money-spent">0</span> USD/EUR</p>
    <p>Total Zcash Stacked: 
      <img src="https://www.logo.wine/a/logo/Zcash/Zcash-Logo.wine.svg" alt="ZEC" style="width:16px; vertical-align:middle; margin-right:4px;">
      <span id="zec-saved">0</span>
      <span id="coin-animation" style="display:inline-block; width:16px; height:16px; vertical-align:middle; margin-left:4px;"></span>
    </p>
    <p>Total Value Today: <span id="total-value" style="transition: color 0.3s;">0</span> USD/EUR</p>
  </div>
</section>

<script>
const amountInput = document.getElementById('save-amount');
const daysInput = document.getElementById('save-days');
const totalValueEl = document.getElementById('total-value');
const coinAnimEl = document.getElementById('coin-animation');

let previousValue = 0;

async function updateSavings() {
    const amount = parseFloat(amountInput.value) || 0;
    const days = parseInt(daysInput.value) || 0;

    // Fetch current ZEC price in USD
    let price = 0;
    try {
        const currency = document.getElementById('currency')?.value || 'usd';
        const response = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=zcash&vs_currencies=${currency}`);
        const data = await response.json();
        price = data.zcash[currency];
    } catch(e) {
        price = 100; // fallback
    }

    const totalInvested = amount * days;
    const zecStacked = totalInvested / price;
    const totalValue = zecStacked * price;

    animateCounter('money-spent', totalInvested, 2);
    animateCounter('zec-saved', zecStacked, 6, true);
    animateCounter('total-value', totalValue, 2, true);
}

// Live update as user types
amountInput.addEventListener('input', updateSavings);
daysInput.addEventListener('input', updateSavings);

// Initial calculation
updateSavings();

function animateCounter(id, value, decimals=2, animateCoin=false){
    const el = document.getElementById(id);
    const start = parseFloat(el.innerText.replace(/,/g,'')) || 0;
    const duration = 500;
    const startTime = performance.now();
    function update(now){
        const progress = Math.min((now - startTime)/duration, 1);
        const current = start + (value - start) * progress;
        el.innerText = current.toLocaleString(undefined,{minimumFractionDigits:decimals, maximumFractionDigits:decimals});
        if(progress<1) requestAnimationFrame(update);
        else if(animateCoin){
            // Flash green for value increase
            if(value > previousValue){
                el.style.color = '#4ade80';
                triggerCoinAnimation();
                setTimeout(()=>{ el.style.color = '#e6eef8'; }, 600);
            }
            previousValue = value;
        }
    }
    requestAnimationFrame(update);
}

function triggerCoinAnimation(){
    coinAnimEl.style.transform = 'translateY(-20px) rotate(360deg)';
    coinAnimEl.style.transition = 'transform 0.6s ease-out';
    coinAnimEl.innerHTML = '<img src="https://www.logo.wine/a/logo/Zcash/Zcash-Logo.wine.svg" alt="ZEC" style="width:16px; height:16px;">';
    setTimeout(()=>{
        coinAnimEl.style.transform = 'translateY(0px) rotate(0deg)';
    },600);
}
</script>


<section id="memory-game">
  <h2>ZEC Memory Game</h2>
  <div id="game-board"></div>
  <p id="game-message" style="margin-top:20px; font-size:18px;"></p>
  <button onclick="startGame()" style="margin-top:20px; padding:12px 24px; font-size:16px; border:none; border-radius:8px; background:#7b61ff; color:#fff; cursor:pointer;">Restart Game</button>
</section>

<footer>
  Sources: 
  <a href="https://forum.zcashcommunity.com/" target="_blank">Zcash Forum</a>, 
  <a href="https://electriccoin.co/blog/" target="_blank">Electric Coin Co</a>, 
  <a href="https://www.zcashcommunity.com/wallets/" target="_blank">Wallets</a>, 
  <a href="https://www.coingecko.com/en/coins/zcash" target="_blank">CoinGecko</a>, 
  <a href="https://z.cash" target="_blank">Zcash Official</a>
  <div class="disclaimer">
    This website is a non-official product and for informational purposes only. Designed by <a href="https://twitter.com/BTCTurtle" target="_blank">@BTCTurtle</a>.
  </div>
</footer>

<script>
// --- Fun Facts ---
const facts = [
  "Zcash was the first cryptocurrency to implement zk-SNARKs, enabling private transactions.",
  "Users can choose between transparent and shielded addresses, offering flexibility in transaction privacy.",
  "Shielded transactions hide the sender, recipient, and amount, ensuring complete confidentiality.",
  "Zcash's privacy features comply with stringent regulatory standards, making it suitable for institutional use.",
  "The use of zero-knowledge proofs ensures that transaction data remains private while still being verifiable.",
  "Zcash's privacy model is optional, allowing users to choose their desired level of transparency.",
  "The network's cryptographic innovations have been peer-reviewed by leading researchers in the field.",
  "Zcash's commitment to privacy has been recognized by privacy advocates and organizations worldwide.",
  "The protocol's design allows for future upgrades to enhance privacy features without compromising security.",
  "Zcash's privacy features are built into the protocol, not reliant on external tools or mixers.",
  "Zcash is supported by major exchanges like Coinbase and Gemini, providing easy access for users.",
  "The Electric Coin Company (ECC) collaborates with various institutions to promote Zcash adoption.",
  "Zcash has been integrated into several wallets, including Zashi, which enforces shielding by default.",
  "The Zcash Foundation supports the development of the ecosystem through grants and community initiatives.",
  "Zcash's open-source nature encourages innovation and contributions from developers worldwide.",
  "The network's consensus mechanism, Proof-of-Work, ensures decentralization and security.",
  "Zcash has been featured in educational content by platforms like Coinbase, reaching a broad audience.",
  "The community actively participates in governance through the ZIP process, influencing the protocol's future.",
  "Zcash's interoperability with other blockchains is being explored to enhance its utility.",
  "The network's scalability solutions aim to handle increased transaction volumes efficiently.",
  "Zcash offers a unique combination of privacy and transparency, catering to diverse user needs.",
  "The fixed supply of 21 million coins ensures scarcity, potentially increasing value over time.",
  "Zcash's privacy features make it ideal for protecting sensitive financial information.",
  "The network's low transaction fees make it cost-effective for microtransactions.",
  "Zcash's fast transaction speeds enhance user experience, especially in cross-border payments.",
  "The growing adoption of Zcash indicates increasing trust and demand in the market.",
  "Zcash's commitment to continuous development ensures it remains at the forefront of privacy technology.",
  "The backing of reputable organizations adds credibility to Zcash's long-term viability.",
  "Zcash's focus on user control over privacy aligns with the ethos of individual empowerment in the digital age.",
  "Investing in Zcash supports the advancement of privacy technologies in the blockchain space."
];
let currentFactIndex = null;
const funFactText = document.getElementById('fun-fact-text');
function showNextFact(){
  funFactText.style.opacity = 0;
  setTimeout(()=>{
    let nextIndex;
    do { nextIndex = Math.floor(Math.random() * facts.length); } while(nextIndex === currentFactIndex);
    currentFactIndex = nextIndex;
    funFactText.innerText = facts[currentFactIndex];
    funFactText.style.opacity = 1;
  },250);
}

// --- Live Price ---
async function fetchPriceAndHypothetical(){
  const currency = document.getElementById('currency').value.toLowerCase();
  document.getElementById('price').innerText = 'Fetchingâ€¦';
  document.getElementById('hypoPrice').innerText = 'Fetchingâ€¦';
  try{
    const res = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=zcash,bitcoin&vs_currencies=${currency}&include_market_cap=true`);
    const data = await res.json();
    let zecPrice = data?.zcash?.[currency];
    if(zecPrice !== undefined){
      let formatted = (currency==='btc'||currency==='eth')? zecPrice.toFixed(8)+' '+currency.toUpperCase() : (currency==='usd'? '$':'') + zecPrice.toLocaleString(undefined,{maximumFractionDigits:2});
      document.getElementById('price').innerText = formatted;
    }
    const btcCap = data?.bitcoin?.[`${currency}_market_cap`];
    if(btcCap){
      const zecSupply = 16328269;
      const hypoPrice = btcCap / zecSupply;
      document.getElementById('hypoPrice').innerText = hypoPrice.toLocaleString(undefined,{maximumFractionDigits:2})+' '+currency.toUpperCase();
    }
  }catch(e){ document.getElementById('price').innerText = 'Fetchingâ€¦'; document.getElementById('hypoPrice').innerText = 'Fetchingâ€¦'; }
}

// Halving countdown
const halvingDate = new Date('2028-11-18T00:00:00Z');
function updateCountdown(){
  const now = new Date();
  const diff = halvingDate - now;
  if(diff <= 0){ document.getElementById('halving').innerText = 'Halving occurred'; return; }
  const d = Math.floor(diff/(1000*60*60*24));
  const h = Math.floor((diff/(1000*60*60))%24);
  const m = Math.floor((diff/(1000*60))%60);
  const s = Math.floor((diff/1000)%60);
  document.getElementById('halving').innerText=`${d}d ${h}h ${m}m ${s}s`;
}

fetchPriceAndHypothetical();
setInterval(fetchPriceAndHypothetical,60000);
updateCountdown();
setInterval(updateCountdown,1000);

// --- Memory Game ---
const memImages = [
    'images/zcash-card.png',
  'images/ledger.png',
  'images/keystone.png',
  'images/zashi.png',
  'images/zingo.png',
  'images/trezor.png',
  'images/exodus.png',
  'images/edge.png'
];

let cards = [];
let firstCard = null;
let secondCard = null;
let lockBoard = false;
let matches = 0;

function startGame(){
  const board = document.getElementById('game-board');
  board.innerHTML = '';
  document.getElementById('game-message').innerText = '';
  firstCard = null; secondCard = null; lockBoard=false; matches=0;
  cards = [...memImages,...memImages];
  cards.sort(()=>0.5 - Math.random());
  cards.forEach(imgSrc=>{
    const card=document.createElement('div'); card.classList.add('card'); card.dataset.img=imgSrc;
    const inner=document.createElement('div'); inner.classList.add('card-inner');
    const front=document.createElement('img'); front.src=imgSrc; front.classList.add('card-front');
    const back=document.createElement('div'); back.classList.add('card-back');
    inner.appendChild(front); inner.appendChild(back); card.appendChild(inner);
    card.addEventListener('click',()=>flipCard(card));
    board.appendChild(card);
  });
}

function flipCard(card){
  if(lockBoard || card===firstCard || card.classList.contains('flipped')) return;
  card.classList.add('flipped');
  if(!firstCard){ firstCard=card; return; }
  secondCard=card; lockBoard=true;
  if(firstCard.dataset.img===secondCard.dataset.img){
    matches++; firstCard=null; secondCard=null; lockBoard=false;
    if(matches===memImages.length){ document.getElementById('game-message').innerText='ðŸŽ‰ You matched all ZEC cards! ðŸŽ‰'; }
  }else{
    setTimeout(()=>{
      firstCard.classList.remove('flipped'); secondCard.classList.remove('flipped'); firstCard=null; secondCard=null; lockBoard=false;
    },1000);
  }
}

startGame();
</script>
<!-- ZCASH LAUNCH WIDGET - paste this before </body> -->
<style>
  /* Button */
  #zcash-launch-btn {
    position: fixed;
    right: 18px;
    bottom: 18px;
    background: linear-gradient(135deg,#f6b93b,#f0932b);
    color: #111;
    border: none;
    padding: 12px 16px;
    border-radius: 999px;
    font-weight: 700;
    box-shadow: 0 6px 18px rgba(0,0,0,0.25);
    cursor: pointer;
    z-index: 99999;
    display: inline-flex;
    gap: 8px;
    align-items: center;
  }
  #zcash-launch-btn:active { transform: translateY(1px); }
  #zcash-launch-btn .dot {
    width:10px;height:10px;border-radius:50%;background:#fff8;box-shadow:0 0 6px rgba(255,255,255,0.6);
  }

  /* Overlay */
  #zcash-launch-overlay {
    position: fixed;
    inset: 0;
    background: radial-gradient(circle at 20% 30%, rgba(10,12,25,0.85), rgba(5,6,12,0.95) 40%);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 99998;
    overflow: hidden;
  }
  #zcash-launch-stage {
    position: relative;
    width: min(820px, 86vw);
    height: min(700px, 72vh);
    border-radius: 14px;
    overflow: visible;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    pointer-events: none;
  }

  /* Ground base */
  #zcash-ground {
    position: absolute;
    left: 0; right: 0; bottom: 6%;
    height: 18%;
    background: linear-gradient(180deg,#021025,#071428);
    border-top-left-radius: 24px;
    border-top-right-radius: 24px;
    box-shadow: 0 -20px 60px rgba(0,0,0,0.6) inset;
    pointer-events: none;
    z-index: 10;
  }
  /* Close button */
  #zcash-close {
    position: absolute;
    right: 12px;
    top: 12px;
    background: transparent;
    color: #fff;
    border: 0;
    font-size: 20px;
    cursor: pointer;
    z-index: 100;
    pointer-events: auto;
  }

  /* Rocket container */
  #zcash-rocket {
    position: absolute;
    bottom: 12%;
    width: 110px;
    height: 220px;
    transform-origin: 50% 90%;
    z-index: 30;
    pointer-events: none;
    filter: drop-shadow(0 12px 30px rgba(0,0,0,0.5));
  }

  /* Rocket initial gentle bob */
  @keyframes bob {
    0% { transform: translateY(0) }
    50% { transform: translateY(-6px) }
    100% { transform: translateY(0) }
  }
  #zcash-rocket.idle { animation: bob 2000ms ease-in-out infinite; }

  /* Launch animation - translate up and rotate slightly */
  @keyframes launchAnim {
    0% { transform: translateY(0) scale(1) rotate(0deg) }
    30% { transform: translateY(-22vh) scale(1.03) rotate(-2deg) }
    100% { transform: translateY(-140vh) scale(1.2) rotate(-6deg) }
  }

  /* Flame */
  .flame {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    bottom: -12%;
    width: 44px;
    height: 88px;
    pointer-events: none;
    filter: blur(0.8px);
    z-index: 20;
  }
  .flame .f {
    position: absolute; bottom: 0; left: 50%; transform: translateX(-50%);
    width: 34px; height: 68px; border-radius: 50%;
    opacity: 0.95; mix-blend-mode: screen;
    animation: flameFlicker 420ms ease-in-out infinite;
  }
  .f.small { width: 18px; height: 36px; opacity: 0.85; animation-duration: 360ms; background: radial-gradient(circle,#fff7a6,#ffbb33); }
  .f.mid   { background: radial-gradient(circle,#ffd66b,#ff7b3d); animation-duration: 420ms; }
  .f.big   { width: 44px; height:88px; background: radial-gradient(circle,#ff8a00,#ff2d2d); opacity:0.9; animation-duration: 520ms; }
  @keyframes flameFlicker {
    0% { transform: translateX(-50%) scaleY(0.95); opacity: .9 }
    50% { transform: translateX(-50%) scaleY(1.08) translateX(2px); opacity: 1 }
    100% { transform: translateX(-50%) scaleY(0.95); opacity: .9 }
  }

  /* Smoke canvas sits under rocket */
  #zcash-smoke { position:absolute; left:0; right:0; top:0; bottom:0; z-index:18; pointer-events:none; }

  /* Confetti */
  .confetti-piece {
    position: absolute;
    width: 10px; height: 14px;
    opacity: 0.95;
    transform-origin: center;
    will-change: transform, opacity;
    z-index: 100;
  }

  /* little text/plain CTA */
  #zcash-launch-caption {
    position: absolute;
    bottom: 3%;
    left: 50%;
    transform: translateX(-50%);
    color: #dfefff;
    font-weight: 600;
    font-size: 14px;
    z-index: 101;
    pointer-events: none;
    text-shadow: 0 6px 18px rgba(0,0,0,0.6);
  }

  /* Responsive smaller dimensions */
  @media (max-width:600px){
    #zcash-rocket{ width:80px; height:160px; bottom:10%; }
    #zcash-launch-stage{ height:58vh; width:92vw; }
  }
</style>

<button id="zcash-launch-btn" aria-label="Launch Zcash rocket">
  <span class="dot"></span>
  Launch ZEC ðŸš€
</button>

<div id="zcash-launch-overlay" role="dialog" aria-hidden="true" aria-modal="true">
  <div id="zcash-launch-stage" role="document" aria-label="Zcash rocket launch">
    <button id="zcash-close" aria-label="Close launch overlay">âœ•</button>

    <!-- smoke/confetti canvas -->
    <canvas id="zcash-smoke"></canvas>

    <!-- Rocket SVG -->
    <div id="zcash-rocket" class="idle" aria-hidden="false">
      <svg viewBox="0 0 120 240" width="100%" height="100%" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Zcash rocket">
        <defs>
          <linearGradient id="metal" x1="0" x2="1">
            <stop offset="0" stop-color="#e6eefc"/>
            <stop offset="1" stop-color="#c0d9f8"/>
          </linearGradient>
          <linearGradient id="body" x1="0" x2="0" y1="0" y2="1">
            <stop offset="0" stop-color="#ffffff"/>
            <stop offset="1" stop-color="#dbefff"/>
          </linearGradient>
          <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
            <feGaussianBlur stdDeviation="8" result="b"/>
            <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
          </filter>
        </defs>

        <!-- nose -->
        <g transform="translate(60,20)">
          <path d="M0 -20 L18 10 L-18 10 Z" fill="#fff" stroke="#d0e6ff" stroke-width="1.5"/>
        </g>

        <!-- main body -->
        <g transform="translate(60,58)">
          <ellipse cx="0" cy="80" rx="36" ry="18" fill="url(#metal)" opacity="0.5"/>
          <rect x="-30" y="-40" width="60" height="120" rx="28" fill="url(#body)" stroke="#a9c8f5" stroke-width="1.5"/>
          <!-- ZEC badge circle -->
          <circle cx="0" cy="20" r="18" fill="#0b2a4a" stroke="#ffd66b" stroke-width="3" />
          <text x="0" y="26" font-family="Arial, Helvetica, sans-serif" font-weight="700" font-size="14" fill="#ffd66b" text-anchor="middle">ZEC</text>
          <!-- fins -->
          <path d="M30 26 L56 52 L34 50 Z" fill="#f4f9ff" opacity="0.95"/>
          <path d="M-30 26 L-56 52 L-34 50 Z" fill="#f4f9ff" opacity="0.95"/>
        </g>
      </svg>

      <!-- flame element -->
      <div class="flame" aria-hidden="true">
        <div class="f big"></div>
        <div class="f mid"></div>
        <div class="f small"></div>
      </div>
    </div>

    <div id="zcash-ground" aria-hidden="true"></div>
    <div id="zcash-launch-caption">Zcash bullish lift-off â€” to the moon! ðŸš€</div>
  </div>
</div>

<script>
(function(){
  const btn = document.getElementById('zcash-launch-btn');
  const overlay = document.getElementById('zcash-launch-overlay');
  const closeBtn = document.getElementById('zcash-close');
  const rocket = document.getElementById('zcash-rocket');
  const flame = document.querySelector('.flame');
  const smokeCanvas = document.getElementById('zcash-smoke');
  const caption = document.getElementById('zcash-launch-caption');
  let animRunning = false;

  // Utility: show overlay
  function openOverlay(){
    overlay.style.display = 'flex';
    overlay.setAttribute('aria-hidden','false');
    document.body.style.overflow = 'hidden';
    // reset states
    rocket.classList.remove('launched');
    rocket.classList.add('idle');
    flame.style.opacity = '1';
    animRunning = false;
    startSmoke(); // initialize smoke canvas
  }
  function closeOverlay(){
    overlay.style.display = 'none';
    overlay.setAttribute('aria-hidden','true');
    document.body.style.overflow = '';
    stopSmoke();
  }

  btn.addEventListener('click', ()=>{
    openOverlay();
    // small delay then launch
    setTimeout(triggerLaunch, 700);
  });
  closeBtn.addEventListener('click', closeOverlay);
  overlay.addEventListener('click', (e)=>{
    if (e.target === overlay) closeOverlay();
  });

  function triggerLaunch(){
    if (animRunning) return;
    animRunning = true;

    rocket.classList.remove('idle'); // stop bob
    rocket.style.transition = 'transform 2.4s cubic-bezier(.17,.67,.2,1), opacity 1s ease';
    rocket.style.willChange = 'transform, opacity';

    // apply keyframe-like animation via CSS animation
    rocket.style.animation = 'launchAnim 3.6s forwards ease-in';
    // intensify flame
    flame.style.transform = 'scaleY(1.25)';
    flame.style.filter = 'blur(0px) drop-shadow(0 8px 18px rgba(255,120,30,0.55))';

    // shoot confetti and speed up smoke
    spawnConfetti();
    accelerateSmoke();

    // After rocket "leaves", fade overlay gracefully
    setTimeout(()=>{
      rocket.style.opacity = '0';
      caption.style.opacity = '0';
    }, 3200);

    setTimeout(()=>{
      // cleanup and close
      rocket.style.animation = '';
      closeOverlay();
    }, 5200);
  }

  /* ---------------------------
     Simple smoke particle system on canvas
     --------------------------- */
  let smokeCtx, smokeW, smokeH, smokeRunning=false, smokeParticles=[];
  function startSmoke(){
    smokeCanvas.width = smokeCanvas.clientWidth || window.innerWidth;
    smokeCanvas.height = smokeCanvas.clientHeight || window.innerHeight;
    smokeW = smokeCanvas.width; smokeH = smokeCanvas.height;
    smokeCtx = smokeCanvas.getContext('2d');
    smokeParticles = [];
    smokeRunning = true;
    // spawn initial gentle smoke
    for(let i=0;i<28;i++) spawnSmokeParticle(0.02 + Math.random()*0.06);
    smokeLoop();
    window.addEventListener('resize', onResize);
  }
  function stopSmoke(){
    smokeRunning = false;
    window.removeEventListener('resize', onResize);
    if(smokeCtx) smokeCtx.clearRect(0,0,smokeW,smokeH);
  }
  function onResize(){
    smokeCanvas.width = smokeCanvas.clientWidth || window.innerWidth;
    smokeCanvas.height = smokeCanvas.clientHeight || window.innerHeight;
    smokeW = smokeCanvas.width; smokeH = smokeCanvas.height;
  }
  function spawnSmokeParticle(speedFactor=0.04){
    const baseX = (smokeW/2) + (Math.random()-0.5)*120;
    const baseY = smokeH*0.72;
    smokeParticles.push({
      x: baseX,
      y: baseY,
      vx: (Math.random()-0.5)*0.6,
      vy: - (0.6 + Math.random()*1.4) * (1 + speedFactor*10),
      life: 120 + Math.round(Math.random()*140),
      size: 12 + Math.random()*32,
      alpha: 0.08 + Math.random()*0.18,
      rot: Math.random()*Math.PI*2,
      spin: (Math.random()-0.5)*0.02
    });
  }
  function smokeLoop(){
    if(!smokeRunning) return;
    smokeCtx.clearRect(0,0,smokeW,smokeH);
    for(let i=smokeParticles.length-1;i>=0;i--){
      const p = smokeParticles[i];
      p.x += p.vx;
      p.y += p.vy;
      p.vx *= 0.998;
      p.vy *= 0.998;
      p.life--;
      p.rot += p.spin;
      p.alpha *= 0.9995;
      const g = smokeCtx.createRadialGradient(p.x,p.y,2,p.x,p.y,p.size);
      g.addColorStop(0, `rgba(255,200,120,${Math.min(0.6,p.alpha*1.2)})`);
      g.addColorStop(0.45, `rgba(200,200,220,${Math.min(0.35,p.alpha)})`);
      g.addColorStop(1, `rgba(40,40,60,0)`);
      smokeCtx.save();
      smokeCtx.translate(p.x,p.y);
      smokeCtx.rotate(p.rot);
      smokeCtx.fillStyle = g;
      smokeCtx.beginPath();
      smokeCtx.ellipse(0,0, p.size*1.1, p.size*0.7, 0, 0, Math.PI*2);
      smokeCtx.fill();
      smokeCtx.restore();
      if(p.life <= 0 || p.alpha < 0.02){
        smokeParticles.splice(i,1);
      }
    }
    // spawn new gentle smoke
    if(smokeParticles.length < 40){
      if (Math.random() < 0.7) spawnSmokeParticle(0.02 + Math.random()*0.05);
    }
    requestAnimationFrame(smokeLoop);
  }
  function accelerateSmoke(){
    // spawn a burst upwards to simulate liftoff exhaust
    for(let i=0;i<40;i++) spawnSmokeParticle(0.12 + Math.random()*0.5);
  }

  /* ---------------------------
     Confetti
     --------------------------- */
  function spawnConfetti(){
    const colors = ['#ffd66b','#ffd6a6','#8fd3ff','#bde0ff','#ffd6e0'];
    const num = 36;
    for(let i=0;i<num;i++){
      const el = document.createElement('div');
      el.className = 'confetti-piece';
      el.style.left = (50 + (Math.random()-0.5)*22) + '%';
      el.style.top = (60 + Math.random()*28) + '%';
      const w = 8 + Math.floor(Math.random()*12);
      el.style.width = w + 'px';
      el.style.height = Math.round(w*1.4)+'px';
      el.style.background = colors[Math.floor(Math.random()*colors.length)];
      el.style.borderRadius = Math.random()>0.5? '2px' : '50%';
      document.getElementById('zcash-launch-stage').appendChild(el);

      // animate piece
      const dx = (Math.random()-0.5) * 800;
      const dy = - (600 + Math.random()*900);
      const rot = (Math.random()>0.5?1:-1) * (100 + Math.random()*720);
      el.animate([
        { transform: `translate(0,0) rotate(0deg)`, opacity: 1 },
        { transform: `translate(${dx}px, ${dy}px) rotate(${rot}deg)`, opacity: 0.05 }
      ], {
        duration: 2600 + Math.random()*1600,
        easing: 'cubic-bezier(.2,.7,.3,1)'
      });
      // remove after animation
      setTimeout(()=> el.remove(), 4200);
    }
  }

  // Accessibility: allow keyboard activation
  btn.addEventListener('keyup', (e)=>{ if(e.key === 'Enter' || e.key === ' ') btn.click(); });
  closeBtn.addEventListener('keyup', (e)=>{ if(e.key === 'Enter' || e.key === ' ') closeBtn.click(); });

  // Keep the canvas full-size inside overlay stage
  function fitCanvas(){
    const rect = document.getElementById('zcash-launch-stage').getBoundingClientRect();
    smokeCanvas.style.left = rect.left + 'px';
    smokeCanvas.style.top = rect.top + 'px';
    smokeCanvas.width = rect.width;
    smokeCanvas.height = rect.height;
  }
  // initial sizing when overlay opens
  const observer = new MutationObserver(()=>{
    if (overlay.style.display === 'flex') {
      // small defer to ensure rendered size
      setTimeout(()=> {
        const rect = document.getElementById('zcash-launch-stage').getBoundingClientRect();
        smokeCanvas.style.position = 'absolute';
        smokeCanvas.style.left = rect.left + 'px';
        smokeCanvas.style.top = rect.top + 'px';
        smokeCanvas.width = rect.width;
        smokeCanvas.height = rect.height;
      }, 40);
    }
  });
  observer.observe(overlay, { attributes: true, attributeFilter: ['style'] });

})();
</script>
<!-- END ZCASH LAUNCH WIDGET -->



</body>
</html>
